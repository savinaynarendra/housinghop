{% extends "base.html" %}
{% block content %}
<div class="container">
    <div class="row">
        <div>
            {% for x in data %}
            <p>{{x}}</p>
            {% endfor %}
        </div>
        <div class="alert alert-danger" role="alert" style="display: none;" id="error"><span id="addError"></span> cannot be empty</div>
        <div class="col-md-4">
            <h2>Health of the Product</h2>
        </div>
        <div class="pull-right">
            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal">Post your Question / Data Request</button>
            <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="myModalLabel">Post your Data request</h4>
                        </div>
                        <div class="modal-body">
                            <input type="email" class="form-control" placeholder="Enter your Email" id="from_email" required>
                            <br>
                            <textarea class="form-control" style="height: 150px;" id="request" placeholder="Enter your Request" required></textarea>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                            <button type="submit" class="btn btn-primary" id="submit-request">Submit Request</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <br>
    <br>
    <div class="row">
        <div class="panel panel-default">
            <div class="panel-body">

                <div class="row">
                    <div class="col-md-2">
                        <div class="input-append date" data-date-format="dd-mm-yyyy">
                            <input class="span2 datepicker form-control" size="16" type="text" id="dp3" placeholder="Select From Date" min="02/03/2015">
                            <span class="add-on"><i class="icon-th"></i></span>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div class="input-append date" data-date-format="dd-mm-yyyy">
                            <input class="span2 datepicker form-control" size="16" type="text" id="dp5" placeholder="Select To Date">
                            <span class="add-on"><i class="icon-th"></i></span>
                        </div>
                    </div>
                    <div class="col-md-3 col-md-push-1">
                        <!-- div class="col-md-3">
                            <span>Select Platform</span>
                        </div> -->
                        <div class="btn-group" role="group" aria-label="...">
                            <!-- <button type="button" class="btn btn-default platformsBtnGroup" id="all">All</button> -->
                            <button type="button" class="btn btn-default platformsBtnGroup" id="desktop">Desktop</button>
                            <button type="button" class="btn btn-default platformsBtnGroup" id="mobile">Mobile Web</button>
                        </div>
                    </div>
                    <div class="col-md-4 col-md-push-1" style="margin-left: 60px;">
                        <div class="btn-group" role="group" aria-label="..." >
                            <button type="button" class="btn btn-default servicesBtnGroup" id="all">All</button>
                            <button type="button" class="btn btn-default servicesBtnGroup" id="rent">Rent</button>
                            <button type="button" class="btn btn-default servicesBtnGroup" id="buy">Buy</button>
                            <button type="button" class="btn btn-default servicesBtnGroup" id="pg">PG</button>
                            <button type="button" class="btn btn-default servicesBtnGroup" id="new_projects">NP</button>
                            <button type="button" class="btn btn-default servicesBtnGroup" id="home_loans">HL</button>
                        </div>
                        
                    </div>
                </div>
                <br>

                <div class="row">
                    <div class="col-md-push-10 col-md-2" style="margin-left: 50px;">
                        <button class="btn btn-primary glyphicon glyphicon-play-circle" id="show-query"> Run</button>
                    </div>
                    <!-- <div class="col-md-2 pull-right" style="margin-right: 56px;">
                        
                        <button class="btn btn-danger reset">Reset Filters</button>
                    </div> -->
                </div>

            </div>
        </div>
        <div class="col-md-3 col-md-offset-1 pull-right">
        </div>
    </div>
    <br>
    <!-- <div class="row">
        <div class="panel panel-default">
            <div class="panel-heading">Apply Filters</div>
            <div class="panel-body">
                <div class="col-md-6">
                    <div class="col-md-3">
                        <span>Select Service</span>
                    </div>
                </div>
            </div>
        </div>
    </div> -->
    <br>
    <div class="row">
        <div class="text-center">
        </div>
    </div>
    <br>
    <br>
    <div class="col-md-2">
    </div>
    <br>
    <br>
    <div id="allData" style="display:none">
        <div class="row">
            <h2>
                Unique Users
                <span id="channelActive"></span>
            </h2>
            <br>
            <div class="col-md-6">
                <div id="chart"></div>
            </div>
            <div class="col-md-5">
                <div id="donutChart" class="donutChart"></div>
            </div>
            <div class="col-md-1" style="margin-top: 120px;">
                <button class="btn btn-danger resetUniqueUsers">All Channels</button>
            </div>
        </div>
        <div class="row">
            <h2>
                OCRF Conversion
                <span id="channelConversion"></span>
                <span class="glyphicon glyphicon-question-sign black-tooltip" style="font-size: 18px;" aria-hidden="true" data-toggle="tooltip" data-placement="right" data-html="true" title="<html>
                        <p>Definition</p>
                        <ul style='padding-left:15px;text-align:left;'>
                            <li>For Desktop:  open_crf </li>
                            <li>For Mobile:   open_crf + calls</li>
                        </ul>
                        </html>" id="questionMark"></span>
            </h2>
            <br>
            <div class="col-md-6">
                <div id="chartConversion"></div>
            </div>
            <div class="col-md-5">
                <div id="donutChartConversion" class="donutChartConversion"></div>
            </div>
            <div class="col-md-1" style="margin-top: 120px;">
                <button class="btn btn-danger resetConversion">All Channels</button>
            </div>
        </div>
        <div class="row">
            <h2>
                Total OCRF
                <span id="channelContactRequests"></span>
            </h2>
            <br>
            <div class="col-md-6">
                <div id="chartContactRequests"></div>
            </div>
            <div class="col-md-5">
                <div id="donutChartContactRequests" class="donutChartContactRequests"></div>
            </div>
            <div class="col-md-1" style="margin-top: 120px;">
                <button class="btn btn-danger resetContactRequests">All Channels</button>
            </div>
        </div>
        <div class="row">
            <h2>
                User Engagement
                <span id="channelUserEngagement"></span>
                <span class="glyphicon glyphicon-question-sign black-tooltip" style="font-size: 18px;" aria-hidden="true" data-toggle="tooltip" data-placement="right" data-html="true" title="<html>
                        <p>Legend</p>
                        <ul style='padding-left:15px;text-align:left;'>
                            <li>Level 0 : No Interaction</li>
                            <li>Level 1 : Filters</li>
                            <li>Level 2 : Infowindow</li>
                            <li>Level 3 : Forms</li>
                        </ul>
                        </html>" id="ocrf-conversion"></span>
                
            </h2>
            <br>
            <div class="col-md-6">
                <div id="chartUserEngagement"></div>
            </div>
            <div class="col-md-5">
                <div id="donutChartUserEngagement" class="donutChartUserEngagement"></div>
            </div>
            <div class="col-md-1" style="margin-top: 120px;">
                <button class="btn btn-danger resetUserEngagement">All Channels</button>
            </div>
        </div>
        
    </div>

    <!-- <div class="row">
        <h2>Registered Users</h2>
        <br>
        <div class="col-md-6">
            <div id="chartRegisteredUsers"></div>
        </div>
        <div class="col-md-6">
            <div id="donutChartRegisteredUsers" class="donutChartRegisteredUsers"></div>
        </div>
    </div>
    <div class="row">
        <h2>Live Listings</h2>
        <br>
        <div class="col-md-6">
            <div id="chartLiveListings"></div>
        </div>
        <div class="col-md-6">
            <div id="donutChartLiveListings" class="donutChartLiveListings"></div>
        </div>
    </div> -->
</div>
{% endblock %}